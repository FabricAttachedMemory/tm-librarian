# https://honk.sigxcpu.org/projects/git-buildpackage/manual-html/gbp.intro.html#gbp.repository
# GBP has several concepts with default matching git branch names:
# Concept		Default git branch
# debian-branch		master
# upstream-branch	upstream
# pristine-tar-branch	pristine-tar
# Just shoot me.

[DEFAULT]
cleaner = fakeroot debian/rules clean
pristine-tar = False
upstream-tree = BRANCH
# HEAD doesn't line up right with this technique so suppress the check
ignore-branch = true
# ignore-new is helpful during trial-and-error development of this gbp.conf.
ignore-new = true

[buildpackage]
# export-dir happens before prebuild, so use one or the other.  If using
# export-dir, perform the merging before calling gbp buildpackage.
export-dir = /tmp/nosuch

# OR invoke gbp buildpackage on the "debian" branch BEFORE a master branch
# exists.  That will violate the default --no-ignore-branch but the earlier
# suppression covers that.
# prebuild = "git checkout --orphan master; git merge upstream"
# post-build = "git checkout debian --; git branch -D master"
